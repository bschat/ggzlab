<!DOCTYPE html>

<html class="NDPage NDContentPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ggzpatregv08.js</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.3 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');">

<script type="text/javascript">var q = window.location.search;if (q.startsWith("?Theme=")){var t = q.slice(7);var e = t.indexOf(";");if (e != -1){  t = t.slice(0, e);  }document.documentElement.classList.add(t + "Theme")}</script>

<a name="GGZpatregvXX.js"></a><a name="Topic1"></a><div class="CTopic TFile LJavaScript first">
 <div class="CTitle">GGZpatregvXX.js</div>
 <div class="CBody"><div class="CHeading">Doel</div><p>GGZPatreg simuleert de patientregistratie-functie bij een GGZ, ziekenhuis, huisartsenpraktijk, apotheek enz. Dit is de stap waarin het BSN van de patient geregistreerd wordt en zijn overige persoons- en adresgegevens worden vastgelegd.</p><p>Vanuit onderhoudbaarheid is de javascript-code zoveel mogelijk gescheiden van de HTML instructies. Daardoor hoort bij ieder html-scherm een javascript-bestand: GGZpatregvXX.js.</p><p>In het GGZLab worden patienten/burgers geidentificeerd op basis van hun &quot;BSN&quot;. Dit betekent dat bij het invoeren van een correct (=reeds in GGZLab bekend) BSN direct ook naam- en adresgegevens getoond kunnen worden (vergelijk de &quot;BSN verificatie&quot; in de werkelijke wereld). De betrokken persoon is daarmee nog niet automatisch &quot;patient&quot; bij de betreffende zorgaanbieder. Om dat te bereiken is er een actie vanuit de zorgaanbieder nodig. Zodra de betrokken persoon (met dat &quot;BSN&quot;) patient is bij de zorgaanbieder kunnen naam- en adresgegevens gewijzigd worden en kunnen behandelgegevens worden toegevoegd, gewijzigd, opgevraagd en beschikbaargesteld worden.</p></div>
</div>

<a name="Functions"></a><a name="Topic58"></a><div class="CTopic TGroup LJavaScript">
 <div class="CTitle">Functions</div>
</div>

<a name="logochange"></a><a name="Topic7"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">logochange()</div>
 <div id="NDPrototype7" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> logochange()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Omdat dit &quot;patientregistratiescherm&quot; voor verschillende zorgaanbieders gebruikt kan worden, moet bovenin het scherm een andere zorgaanbieder gekozen kunnen worden. Daarbij hoort dan ook een ander logo.</p></div>
</div>

<a name="clearform"></a><a name="Topic8"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">clearform()</div>
 <div id="NDPrototype8" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> clearform()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Alle velden in het patientregistratiescherm leegmaken voor nieuwe of gewijzigde invoer</p></div>
</div>

<a name="toonheader"></a><a name="Topic9"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">toonheader()</div>
 <div id="NDPrototype9" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> toonheader()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Het scherm leegmaken</p></div>
</div>

<a name="xischange"></a><a name="Topic13"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">xischange()</div>
 <div id="NDPrototype13" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> xischange()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Als de gebruiker voor een andere zorgaanbieder (&quot;xis&quot;) kiest, dan moet ook het logo worden aangepast en moet de bsn-controle opnieuw plaatsvinden om te zien of dit BSN al patient is bij het andere XIS.</p></div>
</div>

<a name="lockform"></a><a name="Topic11"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">lockform(modus)</div>
 <div id="NDPrototype11" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><div class="PParameterCells" data-WideColumnCount="3" data-NarrowColumnCount="2"><div class="PBeforeParameters" data-WideGridArea="1/1/2/2" data-NarrowGridArea="1/1/2/3" style="grid-area:1/1/2/2"><span class="SHKeyword">function</span> lockform(</div><div class="PName InFirstParameterColumn InLastParameterColumn" data-WideGridArea="1/2/2/3" data-NarrowGridArea="2/1/3/2" style="grid-area:1/2/2/3">modus</div><div class="PAfterParameters" data-WideGridArea="1/3/2/4" data-NarrowGridArea="3/1/4/3" style="grid-area:1/3/2/4">)</div></div></div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Het invoerscherm met de persoonsgegevens is standaard readonly, totdat het BSN een patient is bij de betrokken zorgaanbieder (XIS). In dat geval kunnen gegevens na een knopdruk gewijzigd worden</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">modus</td><td class="CDLDefinition"><p>true: dan is het scherm readonly. false: dan zijn wijzigingen mogelijk</p></td></tr></table></div>
</div>

<a name="bsnveldchange"></a><a name="Topic12"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">bsnveldchange()</div>
 <div id="NDPrototype12" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> bsnveldchange()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Controleer het bsn als het bsn-veld of het zorgaanbiedersveld (xis) gewijzigd is. Is het bsn al bekend binnen GGZLab en (indien dat zo is) is het bsn patient bij de betrokken zorgaanbieder.</p></div>
</div>

<a name="checkbsn"></a><a name="Topic57"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">checkbsn(bsn,xisid)</div>
 <div id="NDPrototype57" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><div class="PParameterCells" data-WideColumnCount="3" data-NarrowColumnCount="2"><div class="PBeforeParameters" data-WideGridArea="1/1/3/2" data-NarrowGridArea="1/1/2/3" style="grid-area:1/1/3/2"><span class="SHKeyword">function</span> checkbsn(</div><div class="PName InFirstParameterColumn InLastParameterColumn" data-WideGridArea="1/2/2/3" data-NarrowGridArea="2/1/3/2" style="grid-area:1/2/2/3">bsn,</div><div class="PName InFirstParameterColumn InLastParameterColumn" data-WideGridArea="2/2/3/3" data-NarrowGridArea="3/1/4/2" style="grid-area:2/2/3/3">xisid</div><div class="PAfterParameters" data-WideGridArea="2/3/3/4" data-NarrowGridArea="4/1/5/3" style="grid-area:2/3/3/4">)</div></div></div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>controleer het bsn als het bsn-veld of het zorgaanbiedersveld (xis) gewijzigd is. Is het bsn al bekend binnen GGZLab en (indien dat zo is) is het bsn patient bij de betrokken zorgaanbieder.</p><div class="CHeading">Gegevensverzamelingen</div><table class="CDefinitionList"><tr><td class="CDLEntry">burgerarray</td><td class="CDLDefinition"><p>de LocalStorage waarin alle personen (&quot;burgers&quot;) in GGZLab geregistreerd staan met hun naam en eventuele adresgegevens</p></td></tr><tr><td class="CDLEntry">patientarray</td><td class="CDLDefinition"><p>de koppeling tussen burgerarray en zorgaanbieder, aangevend dat een bepaald BSN patient is bij deze zorgaanbieder</p></td></tr></table><div class="CHeading">Triggers en Events</div><p>De functie wordt getriggered door de functie bsnveldchange()</p></div>
</div>

<a name="naambsnveldchange"></a><a name="Topic14"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">naambsnveldchange()</div>
 <div id="NDPrototype14" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> naambsnveldchange()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Check op (verplichte) achternaam en bsn. Alleen als die zijn ingevuld en niet uit alleen spaties bestaan werkt de invoerknop</p></div>
</div>

<a name="patientwijz"></a><a name="Topic15"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">patientwijz()</div>
 <div id="NDPrototype15" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> patientwijz()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Stel het scherm zo in dat het mogelijk wordt om patientgegevens aan te vullen of te wijzigen</p></div>
</div>

<a name="patientinv"></a><a name="Topic16"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">patientinv()</div>
 <div id="NDPrototype16" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> patientinv()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Invoeren van een nieuwe patient vanuit het gevulde NAW-scherm en opslaan in local storage &quot;patientarray&quot;</p><div class="CHeading">Gegevensverzamelingen</div><table class="CDefinitionList"><tr><td class="CDLEntry">burgerarray</td><td class="CDLDefinition"><p>de LocalStorage waarin alle personen (&quot;burgers&quot;) in GGZLab geregistreerd staan met hun naam en eventuele adresgegevens</p></td></tr><tr><td class="CDLEntry">patientarray</td><td class="CDLDefinition"><p>de koppeling tussen burgerarray en zorgaanbieder, aangevend dat een bepaald BSN patient is bij deze zorgaanbieder</p></td></tr></table></div>
</div>

<a name="patientaanmeld"></a><a name="Topic109"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">patientaanmeld()</div>
 <div id="NDPrototype109" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> patientaanmeld()</div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>proberen om het dossier van deze patient aan te melden bij het bij het Mitz abonnementenregister. Dit lukt alleen indien de patient hiervoor toestemming heeft gegeven</p><div class="CHeading">Gegevensverzamelingen</div><table class="CDefinitionList"><tr><td class="CDLEntry">abonnreg</td><td class="CDLDefinition"><p>vastlegging van alle abonnementen binnen GGZLab</p></td></tr></table></div>
</div>

<a name="checkaanmeldtoestemming"></a><a name="Topic110"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">checkaanmeldtoestemming(bsn,xisid)</div>
 <div id="NDPrototype110" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><div class="PParameterCells" data-WideColumnCount="3" data-NarrowColumnCount="2"><div class="PBeforeParameters" data-WideGridArea="1/1/3/2" data-NarrowGridArea="1/1/2/3" style="grid-area:1/1/3/2"><span class="SHKeyword">function</span> checkaanmeldtoestemming(</div><div class="PName InFirstParameterColumn InLastParameterColumn" data-WideGridArea="1/2/2/3" data-NarrowGridArea="2/1/3/2" style="grid-area:1/2/2/3">bsn,</div><div class="PName InFirstParameterColumn InLastParameterColumn" data-WideGridArea="2/2/3/3" data-NarrowGridArea="3/1/4/2" style="grid-area:2/2/3/3">xisid</div><div class="PAfterParameters" data-WideGridArea="2/3/3/4" data-NarrowGridArea="4/1/5/3" style="grid-area:2/3/3/4">)</div></div></div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>controleer of de patient aan deze categorie zorgaanbieder toestemming heeft gegeven voor het aanmelden van zijn dossier bij het abonnementenregister</p></div>
</div>

<a name="alertnawait"></a><a name="Topic18"></a><div class="CTopic TFunction LJavaScript last">
 <div class="CTitle">alertnawait(melding,secs)</div>
 <div id="NDPrototype18" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><div class="PParameterCells" data-WideColumnCount="3" data-NarrowColumnCount="2"><div class="PBeforeParameters" data-WideGridArea="1/1/3/2" data-NarrowGridArea="1/1/2/3" style="grid-area:1/1/3/2"><span class="SHKeyword">function</span> alertnawait(</div><div class="PName InFirstParameterColumn InLastParameterColumn" data-WideGridArea="1/2/2/3" data-NarrowGridArea="2/1/3/2" style="grid-area:1/2/2/3">melding,</div><div class="PName InFirstParameterColumn InLastParameterColumn" data-WideGridArea="2/2/3/3" data-NarrowGridArea="3/1/4/2" style="grid-area:2/2/3/3">secs</div><div class="PAfterParameters NegativeLeftSpaceOnWide" data-WideGridArea="2/3/3/4" data-NarrowGridArea="4/1/5/3" style="grid-area:2/3/3/4">)</div></div></div></div>
 <div class="CBody"><div class="CHeading">Functionaliteit</div><p>Geef na &lt;secs&gt; seconden wachttijd &lt;melding&gt;&nbsp; in een alertbox. Deze functie wordt overbodig zodra de animationqueue is gerealiseerd.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">melding</td><td class="CDLDefinition"><p>de tekst van de melding</p></td></tr><tr><td class="CDLEntry">secs</td><td class="CDLDefinition"><p>de wachttijd in seconden</p></td></tr></table><div class="CHeading">Opmerking</div><p>deze functie wordt tzt vervangen door de implementatie van een &quot;animatiequeue&quot; waarin verschillende animaties (zowel in de monitor als op het invoerscherm) geplaatst kunnen worden en waarbij een afgeronde animatie de volgende triggert.</p></div>
</div>

</body></html>